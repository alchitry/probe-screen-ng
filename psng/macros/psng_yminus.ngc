o<psng_yminus> sub

; BEGIN PSNG PREAMBLE
M73 ; Save and autorestore model states. This will be used only in case of error, otherwise we will invalidate it.
o<psng_modal_save> call
o<psng_hook> call [8]
; END PSNG PREAMBLE

#<y>=#<_y> (save start Y position)
G91
F #<_hal[probe.ps_searchvel]>
G38.2 Y[-#<_hal[probe.ps_probe_max]>]
G1 Y[#<_hal[probe.ps_probe_latch]>] F#<_ini[TOOLSENSOR]RAPID_SPEED>
F #<_hal[probe.ps_probevel]>
G4 P0.5
G38.2 Y[-#<_hal[probe.ps_probe_latch]>*2]
(print, probe Y=#5062 )
G90
(back to start point)
G1 Y#<y> F#<_ini[TOOLSENSOR]RAPID_SPEED>

; BEGIN PSNG POSTAMBLE
M71 ; Invalidate Modal Autorestore
o<psng_modal_restore> call
; END PSNG POSTAMBLE

o<psng_yminus> endsub
M2
